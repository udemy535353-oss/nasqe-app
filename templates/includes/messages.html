{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    <div id="alert-container">
      {% for category, message in messages %}
        
        {# Flask'in 'error' kategorisini Bootstrap'in 'danger' rengiyle eşleştiriyoruz #}
        {% if category == 'error' %}{% set category = 'danger' %}{% endif %}

        <div class="apple-alert" role="alert">
            
            {# Kategoriye göre ikon seçimi #}
            <div class="alert-icon {{ category }}">
              {% if category == 'success' %}
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline></svg>
              {% elif category == 'danger' %}
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg>
              {% endif %}
            </div>

            <div class="alert-content">
                {# Kategoriye göre başlık #}
                <div class="alert-title">
                  {% if category == 'success' %}Success{% endif %}
                  {% if category == 'danger' %}Bir hata ile karşılaşıldı!{% endif %}
                </div>
                <div class="alert-message">{{ message }}</div>
            </div>

            <button class="alert-close" onclick="this.parentElement.remove()">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6e6e73" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
            </button>

            <div class="alert-progress {{ category }}"></div>
        </div>
      {% endfor %}
    </div>
  {% endif %}
{% endwith %}